function splitTextIntoSpans(e){var t=document.querySelector(e);if(t){var o=t.innerText,a=o.split("").map(e=>`<span>${e}</span>`).join("");t.innerHTML=a}}function startLoader(){function e(){if(100!==a){a+=Math.floor(10*Math.random())+1,a=a>100?100:a,o.innerHTML=a.toString().split("").map(e=>`<span>${e}</span>`).join("")+"<span>%</span>";var n=Math.floor(200*Math.random())+100;setTimeout(e,n)}else t()}function t(){setTimeout(()=>{gsap.to(".counter p span",{top:"-400px",stagger:.1,ease:"power3.inOut",duration:1.2}),gsap.to(".loadingText p span",{top:"0",stagger:.1,ease:"power3.inOut",duration:1.1}),gsap.to(".loadingText p span",{top:"-300px",opacity:0,stagger:.1,ease:"power3.inOut",duration:1.2,delay:3.2}),gsap.to("#loadingScreen",{opacity:0,ease:"power4.inOut",duration:1.1,delay:4.2}),gsap.to(".imageZone img",{scale:1,opacity:1,ease:"power3.inOut",duration:1.1,delay:4}),gsap.to(".nav-bar h2, .nav-bar .reloj",{opacity:1,top:"0",ease:"power3.inOut",duration:1.9,delay:4,stagger:.2}),gsap.to(".info p, .menu__item",{top:"0",stagger:.2,opacity:1,ease:"power3.inOut",duration:1.6,delay:4.1}),gsap.to(".clickZone",{delay:4,duration:0})},300)}var o=document.querySelector(".counter p"),a=0;e()}function resetIndexHighlight(e,t){const o=document.querySelectorAll(".index .index-highlight")[e];gsap.killTweensOf(o),gsap.to(o,{width:"next"===t?"100%":"0%",duration:.3,onStart:()=>{gsap.to(o,{transformOrigin:"right center",scaleX:0,duration:.3})}})}function animateIndexHighlight(e){const t=document.querySelectorAll(".index .index-highlight")[e];gsap.set(t,{width:"0%",scaleX:1,transformOrigin:"right center"}),gsap.to(t,{width:"100%",duration:storyDuration/1e3,ease:"none"})}function animateNewImage(e,t){"next"===t?(gsap.set(e,{clipPath:"next"===t?"polygon(0% 100%, 100% 100%, 100% 100%, 0 100%)":"polygon(0% 100%, 100% 100%, 100% 0%, 0% 0%)"}),gsap.to(e,{clipPath:"polygon(0% 100%, 100% 100%, 100% 0%, 0% 0%)",duration:1,ease:"power4.out"})):(gsap.set(e,{clipPath:"polygon(0 0, 100% 0, 100% 0, 0 0)"}),gsap.to(e,{clipPath:"polygon(0% 100%, 100% 100%, 100% 0%, 0% 0%)",duration:1,ease:"power4.out"}))}function animateImageScale(e,t){gsap.fromTo(e,{scale:1,rotate:0},{scale:1.1,duration:.8,ease:"power4.inOut",onComplete:()=>{e.parentElement.remove()}}),gsap.fromTo(t,{scale:1.1},{scale:1,duration:.2,ease:"power4.inOut"})}function animateNewBackground(e,t){"next"===t?(gsap.set(e,{clipPath:"next"===t?"polygon(0% 100%, 100% 100%, 100% 100%, 0 100%)":"polygon(0% 100%, 100% 100%, 100% 0%, 0% 0%)"}),gsap.to(e,{clipPath:"polygon(0% 100%, 100% 100%, 100% 0%, 0% 0%)",duration:1,ease:"power4.out"})):(gsap.set(e,{clipPath:"polygon(0 0, 100% 0, 100% 0, 0 0)"}),gsap.to(e,{clipPath:"polygon(0% 100%, 100% 100%, 100% 0%, 0% 0%)",duration:1,ease:"power4.out",delay:.3}))}function cleanUpElements(){const e=document.querySelector(".desc-name"),t=document.querySelector(".backgroundTitle"),o=document.querySelector(".story-img"),a=document.querySelector(".backgroundColor");for(;e.childElementCount>1;)e.removeChild(e.firstChild);for(;o.childElementCount>2;)o.removeChild(o.firstChild);for(;a.childElementCount>4;)a.removeChild(a.firstChild);for(;t.childElementCount>1;)t.removeChild(t.firstChild)}function changeStory(e=!0){const t=activeStory,o=e?"next":direction;activeStory="next"===o?(activeStory+1)%stories.length:(activeStory-1+stories.length)%stories.length;const a=stories[activeStory],n=document.querySelector(".story-img .img"),r=n.querySelector("img"),i=document.querySelector(".backgroundContent");setTimeout(()=>{const e=document.createElement("a");e.innerText=a.profileName,e.href=a.linkSrc;const n=document.querySelector(".desc-name");n.appendChild(e);const s=document.createElement("div");s.classList.add("img");const c=document.createElement("img");c.src=a.storyImg,c.alt=a.profileName,s.appendChild(c);const d=document.querySelector(".story-img");d.appendChild(s),animateNewImage(s,o);const l=c;animateImageScale(r,l,o);const u=document.createElement("div");u.classList.add("backgroundContent");const g=document.createElement("div");g.className=a.backgroundClass,u.appendChild(g);const p=document.createElement("div");p.classList.add("backgroundTitle"),g.appendChild(p);const m=document.createElement("p");m.innerText=a.backgroundTitle,p.appendChild(m);const h=document.querySelector(".backgroundColor");h.appendChild(u),animateNewBackground(u,o);const y=g;animateNewBackground(i,y,o),resetIndexHighlight(t,o),animateIndexHighlight(activeStory),cleanUpElements(),clearTimeout(storyTimeout),storyTimeout=setTimeout(()=>changeStory(!0),storyDuration)},200),setTimeout(()=>{},200)}gsap.to("#loadingScreen",{opacity:1,duration:.5}),gsap.to(".Loader",{opacity:1,duration:.2}),gsap.to(".contain, .contain-2",{opacity:1,duration:.1,delay:1}),gsap.to(".clickZone",{pointerEvents:"auto",duration:0,delay:8.7}),document.addEventListener("DOMContentLoaded",function(){splitTextIntoSpans(".loadingText p"),gsap.to(".Image-Holder img",{left:0,stagger:.1,ease:"power4.out",duration:1.6,delay:2.8}),gsap.to(".Image-Holder img",{left:"110%",stagger:-.1,ease:"power4.out",duration:1.6,delay:7.1})}),startLoader();var ChihuahuaTime=function(){document.getElementById("time-text").innerHTML=(new Date).toLocaleString("en-US",{timeZone:"America/Chihuahua",timeStyle:"medium"})};ChihuahuaTime(),setInterval(ChihuahuaTime,1e3);const stories=[{profileName:"Andrés Gardea",backgroundTitle:["Andrés Gardea"],descText:"Soy un Fotógrafo y Diseñador Gráfico de la ciudad de Chihuahua México.",storyImg:"../Media/000.webp",backgroundClass:"t-1"},{profileName:"Fotógrafo",backgroundTitle:["Fotógrafo"],descText:"Me apasiona la fotografía de naturaleza y me especializo en fotografía de productos y retratos.",storyImg:"../Media/Servicios/Gastronomica-7.webp",backgroundClass:"t-2",linkSrc:"../photo.html"},{profileName:"Diseñador",backgroundTitle:["Diseñador"],descText:"Estudio Diseño y Comunicación Gráfica, realizo trabajos de diseño tanto digital como tradicional.",storyImg:"../Media/Poster/Poster-001.webp",backgroundClass:"t-3",linkSrc:"../design.html"},{profileName:"Programador",backgroundTitle:["Programador"],descText:"He trabajado desarrollando y lanzando páginas como UnfotografomasCUU, ChihuahuaMx y KarmaStudio.",storyImg:"../Media/4.webp",backgroundClass:"t-4",linkSrc:"../photo.html"},{profileName:"Servicios",backgroundTitle:["Servicios"],descText:"He trabajado desarrollando y lanzando páginas como UnfotografomasCUU, ChihuahuaMx y KarmaStudio.",storyImg:"../Media/5.webp",backgroundClass:"t-5",linkSrc:"../servicios.html"},{profileName:"Contacto",backgroundTitle:["Contacto"],descText:"He trabajado desarrollando y lanzando páginas como UnfotografomasCUU, ChihuahuaMx y KarmaStudio.",storyImg:"../Media/6.webp",backgroundClass:"t-6",linkSrc:"../photo.html"}];let activeStory=-1;const storyDuration=7750;let storyTimeout,direction="next";const cursor=document.querySelector(".cursor"),cursorIcon=cursor.querySelector("i");document.addEventListener("mousemove",e=>{const{clientX:t,clientY:o}=e;gsap.to(cursor,{x:t-cursor.offsetWidth/2,y:o-cursor.offsetHeight/2,ease:"power2.out",duration:.3});const a=window.innerWidth;t<a/2?(cursorIcon.classList.remove("ph-arrow-right"),cursorIcon.classList.add("ph-arrow-left"),cursor.style.display="",direction="prev"):(cursorIcon.classList.remove("ph-arrow-left"),cursorIcon.classList.add("ph-arrow-right"),cursor.style.display="",direction="next")}),document.addEventListener("click",()=>{clearTimeout(storyTimeout),resetIndexHighlight(activeStory,direction),changeStory(!1)}),storyTimeout=setTimeout(()=>changeStory(!0),storyDuration),animateIndexHighlight(activeStory);